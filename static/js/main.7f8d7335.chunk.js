(this["webpackJsonpweb-39-social-network"]=this["webpackJsonpweb-39-social-network"]||[]).push([[0],{11:function(e,t,a){e.exports={nav:"Nav_nav__3gICw",item:"Nav_item__96rLj",activeName:"Nav_activeName__28Ej8"}},17:function(e,t,a){e.exports={header:"Header_header__1VCKf",headerText:"Header_headerText__15hRh",loginNL:"Header_loginNL__28skR",loginInput:"Header_loginInput__3sKnk",btn:"Header_btn__25p7W",login:"Header_login__3V3Qa",hide:"Header_hide__1H_PK"}},198:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(41),o=a.n(c),u=(a(96),a(97),a(78)),l=a.n(u),s=function(){return r.a.createElement("footer",{className:l.a.footer},"footer")},i=a(11),m=a.n(i),f=a(12),p=function(){return r.a.createElement("nav",{className:m.a.nav},r.a.createElement("div",{className:m.a.item},r.a.createElement(f.b,{exact:!0,to:"/profile",activeClassName:m.a.activeName},"Profile")),r.a.createElement("div",{className:m.a.item},r.a.createElement(f.b,{exact:!0,to:"/users",activeClassName:m.a.activeName},"Users")),r.a.createElement("div",{className:m.a.item},r.a.createElement(f.b,{to:"/messages",activeClassName:m.a.activeName},"Messages")),r.a.createElement("div",{className:m.a.item},r.a.createElement(f.b,{to:"/news",activeClassName:m.a.activeName},"News")),r.a.createElement("div",{className:m.a.item},r.a.createElement(f.b,{to:"/music",activeClassName:m.a.activeName},"Music")),r.a.createElement("div",{className:m.a.item},r.a.createElement(f.b,{to:"/settings",activeClassName:m.a.activeName},"Settings")),r.a.createElement("div",{className:m.a.item},r.a.createElement(f.b,{to:"/shuffle",activeClassName:m.a.activeName},"Shuffle")))},d=function(){return r.a.createElement(r.a.Fragment,null,"News page")},b=function(){return r.a.createElement(r.a.Fragment,null,"Music page")},v=function(){return r.a.createElement(r.a.Fragment,null,"Settings page")},h=a(25),E=a(19),g=a(23),_=a.n(g),O=function(){return r.a.createElement("div",{className:_.a.block1}," First ")},j=function(){return r.a.createElement("div",{className:_.a.block2}," Second ")},k=function(){return r.a.createElement("div",{className:_.a.block3}," Third ")},w=function(){return r.a.createElement("div",{className:_.a.block4}," Fourth ")},y=function(){var e=Object(n.useState)([r.a.createElement(O,null),r.a.createElement(j,null),r.a.createElement(k,null),r.a.createElement(w,null)]),t=Object(E.a)(e,2),a=t[0],c=t[1],o=function(e){for(var t=Object(h.a)(a),n=[],r=[],o=[],u=0;u<t.length;u++)u===e&&r.push(t[u]),u!==e&&n.push(t[u]);n.sort((function(){return Math.random()-.5}));for(var l=0;l<t.length;l++)l!==e&&(o[l]=n.pop()),l===e&&(o[l]=r[0]);return c(o)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{onClick:function(){return o(0)}},a[0]),r.a.createElement("div",{onClick:function(){return o(1)}},a[1]),r.a.createElement("div",{onClick:function(){return o(2)}},a[2]),r.a.createElement("div",{onClick:function(){return c([r.a.createElement(O,null),r.a.createElement(j,null),r.a.createElement(k,null),r.a.createElement(w,null)])}},a[3]))},S=a(4),x=a(79),N=a(80),P=a(90),F=a(89),C=a(5),I=a(82),T=a.n(I),U=a(2),A=a.n(U),D=a(6),L=a(10),z=a(53),M=a.n(z),R=a(83),W=a.n(R),J=function(e){return r.a.createElement("div",{className:W.a.item},r.a.createElement("img",{src:e.avatar,alt:"..."}),e.text,r.a.createElement("div",null,r.a.createElement("span",null,"Like ".concat(e.like))))},H=r.a.memo((function(e){var t=e.postsData.map((function(e){return r.a.createElement(J,{key:e.text,avatar:e.avatar,text:e.text,like:e.like})})),a=function(e){return new Promise((function(t){return setTimeout(t,e)}))},n=function(){var t=Object(D.a)(A.a.mark((function t(n){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a(200);case 2:e.addPostFunc(n.newPostBody);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:M.a.wrap},r.a.createElement("h4",null," Feed "),r.a.createElement(V,{onSubmit:n}),r.a.createElement("div",{className:M.a.posts},t))})),V=function(e){return r.a.createElement(L.b,{onSubmit:e.onSubmit,initialValues:{employed:!0},render:function(e){var t=e.handleSubmit,a=e.submitting,n=e.pristine,c=e.form;return r.a.createElement("form",{onSubmit:function(e){t(e).then((function(){return c.reset()}))}},r.a.createElement("div",{className:"containerTextarea"},r.a.createElement(L.a,{component:"textarea",name:"newPostBody",placeholder:"Please enter text"})),r.a.createElement("button",{type:"submit",disabled:a||n}," Add post "))}})},X=H,G=a(28),B=a(3),K=a(21),Y=a(7),Q="ADD_POST",q="SET_USER_PROFILE",Z="SET_USER_STATUS",$="SAVE_PHOTO_SUCCESS",ee=function(e){return{type:Z,statusText:e}},te={postsData:[{avatar:"https://cdn.shazoo.ru/484375_17F3XlRozj_484361_hyk7rvse2u_bf3cdf05_838c.jpg",text:"First post text",like:13},{avatar:"https://cdn.shazoo.ru/484375_17F3XlRozj_484361_hyk7rvse2u_bf3cdf05_838c.jpg",text:"Second post text",like:21},{avatar:"https://cdn.shazoo.ru/484375_17F3XlRozj_484361_hyk7rvse2u_bf3cdf05_838c.jpg",text:"Third post text",like:8},{avatar:"https://cdn.shazoo.ru/484375_17F3XlRozj_484361_hyk7rvse2u_bf3cdf05_838c.jpg",text:"Fourth post text",like:5},{avatar:"https://cdn.shazoo.ru/484375_17F3XlRozj_484361_hyk7rvse2u_bf3cdf05_838c.jpg",text:"Fifth post text",like:21}],profile:null,userStatus:""},ae=function(e){return function(){var t=Object(D.a)(A.a.mark((function t(a){var n;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Y.b.getProfile(e);case 3:n=t.sent,a((r=n.data,{type:q,profile:r})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}var r}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:var a={avatar:"https://cdn.shazoo.ru/484375_17F3XlRozj_484361_hyk7rvse2u_bf3cdf05_838c.jpg",text:t.body,like:0},n=Object(B.a)({},e);return n.postsData=Object(h.a)(e.postsData),n.postsData.push(a),n;case q:return Object(B.a)(Object(B.a)({},e),{},{profile:t.profile});case Z:return Object(B.a)(Object(B.a)({},e),{},{userStatus:t.statusText});case $:return Object(B.a)(Object(B.a)({},e),{},{profile:Object(B.a)(Object(B.a)({},e.profile),{},{photos:t.photos})});default:return e}},re=Object(C.b)((function(e){return{postsData:e.profilePage.postsData}}),(function(e){return{addPostFunc:function(t){e(function(e){return{type:Q,body:e}}(t))}}}))(X),ce=a(8),oe=a.n(ce),ue=a.p+"static/media/wall.8f2fd9d3.jpg",le=a(43),se=function(e){var t=e.userStatus,a=e.getUpdateStatus,c=Object(n.useState)(!1),o=Object(E.a)(c,2),u=o[0],l=o[1],s=Object(n.useState)(t),i=Object(E.a)(s,2),m=i[0],f=i[1],p=Object(C.d)((function(e){return e.auth.userId}))===Object(C.d)((function(e){return e.profilePage.profile.userId}));return Object(n.useEffect)((function(){f(t)}),[t]),r.a.createElement(r.a.Fragment,null,!u&&r.a.createElement("div",{className:p?oe.a.profileStatus:""},r.a.createElement("span",{onDoubleClick:function(){p&&l(!0)}},t||(p?"enter status there":null))),u&&r.a.createElement("div",null,r.a.createElement("input",{className:"form-control mt-2",onBlur:function(){l(!1),t!==m&&a(m)},autoFocus:!0,value:m,onChange:function(e){return t=e.target.value,void f(t);var t}})))},ie=function(e){var t=e.profile,a=e.onSubmit;return r.a.createElement("div",{className:oe.a.formWrap},r.a.createElement(L.b,{onSubmit:a,initialValues:t,validate:function(e){var t={};return e.fullName||(t.fullName="Required"),e.lookingForAJobDescription||(t.lookingForAJobDescription="Please, write your skills"),e.aboutMe||(t.aboutMe="Tell something about you"),t},render:function(e){var a=e.submitError,n=e.handleSubmit,c=e.submitting;return r.a.createElement("form",{onSubmit:n},r.a.createElement(L.a,{name:"fullName"},(function(e){var t=e.input,a=e.meta;return r.a.createElement("div",null,r.a.createElement("label",null,"Enter full name"),r.a.createElement("input",Object.assign({},t,{type:"text",placeholder:"John Smith",className:"form-control"})),(a.error||a.submitError)&&a.touched&&r.a.createElement("span",{className:oe.a.textError},a.error||a.submitError))})),r.a.createElement(L.a,{name:"lookingForAJob",type:"checkbox"},(function(e){var t=e.input,a=e.meta;return r.a.createElement("div",{className:"form-check mt-2"},r.a.createElement("input",Object.assign({},t,{type:"checkbox",className:"form-check-input",id:"lookingForAJob"})),r.a.createElement("label",{className:"form-check-label",htmlFor:"lookingForAJob"},"Is looking for a job"),a.error&&a.touched&&r.a.createElement("span",{className:oe.a.textError},a.error))})),r.a.createElement(L.a,{name:"lookingForAJobDescription"},(function(e){var t=e.input,a=e.meta;return r.a.createElement("div",{className:"mt-2"},r.a.createElement("label",{className:"form-label",htmlFor:"lookingForAJobDescription"},"Job description"),r.a.createElement("input",Object.assign({},t,{type:"text",placeholder:"Skills",className:"form-control",id:"lookingForAJobDescription"})),a.error&&a.touched&&r.a.createElement("span",{className:oe.a.textError},a.error))})),r.a.createElement(L.a,{name:"aboutMe"},(function(e){var t=e.input,a=e.meta;return r.a.createElement("div",{className:"mt-2"},r.a.createElement("label",{className:"form-label",htmlFor:"aboutMe"},"About me"),r.a.createElement("input",Object.assign({},t,{type:"text",placeholder:"Something interesting about you",className:"form-control",id:"aboutMe"})),a.error&&a.touched&&r.a.createElement("span",{className:oe.a.textError},a.error))})),r.a.createElement("div",{className:"mt-2"},r.a.createElement("b",null,"Contacts"),":",Object.keys(t.contacts).map((function(e){return r.a.createElement("div",{key:e},r.a.createElement(L.a,{name:"contacts.".concat(e)},(function(t){var n=t.input;return r.a.createElement("div",null,r.a.createElement("input",Object.assign({},n,{type:"text",placeholder:"Your ".concat(e," link"),className:(null===a||void 0===a?void 0:a.toLowerCase().includes(e))?"form-control text-danger is-invalid ":"form-control"})))})))}))),a&&r.a.createElement("div",{className:oe.a.textError},a.split("(")[0]),r.a.createElement("div",{className:"mt-2"},r.a.createElement("button",{type:"submit",disabled:c,className:"btn btn-primary"}," Save ")))}}))},me=function(e){var t=e.contactTitle,a=e.contactValue;return a?r.a.createElement("div",null,r.a.createElement("b",null,t),": ",a):r.a.createElement(r.a.Fragment,null)},fe=function(e){var t=e.profile,a=e.goToEditMode,n=e.isOwner;return r.a.createElement("div",null,r.a.createElement("h3",null,t.fullName),r.a.createElement("div",null,r.a.createElement("b",null,"About me"),": ",t.aboutMe),r.a.createElement("div",null,r.a.createElement("b",null,"Looking for a job"),": ",t.lookingForAJob?"yes":"no"),r.a.createElement("div",null,r.a.createElement("b",null,"My professional skills"),": ",t.lookingForAJobDescription),r.a.createElement("div",{className:"mt-2"},r.a.createElement("b",null,"Contacts"),r.a.createElement("div",{className:oe.a.contacts},Object.keys(t.contacts).map((function(e){return r.a.createElement(me,{key:e,contactTitle:e,contactValue:t.contacts[e]})})))),n&&r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-light mt-2",onClick:a},"edit")))},pe=function(e){var t=e.isOwner,a=e.savePhoto,c=e.saveProfile,o=e.profile,u=e.userStatus,l=e.getUpdateStatus,s=Object(n.useState)(!1),i=Object(E.a)(s,2),m=i[0],f=i[1],p=function(){var e=Object(D.a)(A.a.mark((function e(t){var a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(t);case 2:if(!(a=e.sent)){e.next=5;break}return e.abrupt("return",a);case 5:f(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return o?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:oe.a.wallpaper,style:{backgroundImage:"url(".concat(o.photos.large||ue,")")}},r.a.createElement("div",{className:oe.a.infoWrap},r.a.createElement("div",{className:oe.a.wrap},r.a.createElement("div",{className:oe.a.contentWrap},r.a.createElement("div",{className:oe.a.imgWrap},r.a.createElement("img",{src:o.photos.large||"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/User_font_awesome.svg/1200px-User_font_awesome.svg.png",alt:"..."}),t&&r.a.createElement("div",null,r.a.createElement("input",{type:"file",name:"file",id:"file",onChange:function(e){e.target.files.length&&a(e.target.files[0])},className:oe.a.inputFile}),r.a.createElement("label",{htmlFor:"file"},r.a.createElement("div",null,"Choose a photo")))),r.a.createElement("div",null,r.a.createElement(se,{userStatus:u,getUpdateStatus:l})),m?r.a.createElement(ie,{profile:o,onSubmit:p}):r.a.createElement(fe,{goToEditMode:function(){f(!0)},profile:o,isOwner:t})))))):r.a.createElement(le.a,null)},de=function(e){return r.a.createElement("article",{className:T.a.article},r.a.createElement(pe,{isOwner:e.isOwner,savePhoto:e.savePhoto,saveProfile:e.saveProfile,profile:e.profile,userStatus:e.userStatus,getUpdateStatus:e.getUpdateStatus}),r.a.createElement(re,null))},be=a(56),ve=a(20),he=function(e){Object(P.a)(a,e);var t=Object(F.a)(a);function a(){return Object(x.a)(this,a),t.apply(this,arguments)}return Object(N.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(de,Object.assign({},this.props,{profile:this.props.profile,isOwner:!this.props.match.params.userId})))}}]),a}(r.a.Component),Ee=Object(ve.d)(be.a,S.f,Object(C.b)((function(e){return{profile:e.profilePage.profile,userStatus:e.profilePage.userStatus,isAuth:e.auth.isAuth,authorizedUserId:e.auth.userId}}),{saveProfile:function(e){return function(){var t=Object(D.a)(A.a.mark((function t(a,n){var r,c;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=n().auth.userId,t.next=4,Y.b.saveProfile(e);case 4:if(0!==(c=t.sent).data.resultCode){t.next=10;break}return a(ae(r)),t.abrupt("return",null);case 10:return t.abrupt("return",Object(G.a)({},K.a,c.data.messages[0]));case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.error(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,a){return t.apply(this,arguments)}}()},savePhoto:function(e){return function(){var t=Object(D.a)(A.a.mark((function t(a){var n;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Y.b.savePhoto(e);case 3:0===(n=t.sent).data.resultCode&&a((r=n.data.data.photos,{type:$,photos:r})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}var r}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},getProfile:ae,getStatus:function(e){return function(){var t=Object(D.a)(A.a.mark((function t(a){var n;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Y.b.getStatus(e);case 3:n=t.sent,a(ee(n.data)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},getUpdateStatus:function(e){return function(){var t=Object(D.a)(A.a.mark((function t(a){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Y.b.updateStatus(e);case 3:0===t.sent.data.resultCode&&a(ee(e)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}}))(he),ge="SET_USER_DATA",_e="SET_CAPTCHA_URL_SUCCESS",Oe={userId:null,email:null,login:null,isAuth:!1,captchaUrl:null},je=function(e,t,a,n){return{type:ge,payload:{userId:e,email:t,login:a,isAuth:n}}},ke=function(e){return{type:_e,payload:{captchaUrl:e}}},we=function(){return function(){var e=Object(D.a)(A.a.mark((function e(t){var a,n,r,c,o;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.a.me();case 3:0===(a=e.sent).data.resultCode&&(n=a.data.data,r=n.id,c=n.email,o=n.login,t(je(r,c,o,!0))),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",console.error(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},ye=function(){return function(){var e=Object(D.a)(A.a.mark((function e(t){var a,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.c.getCaptchaUrl();case 3:a=e.sent,n=a.data.url,t(ke(n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge:case _e:return Object(B.a)(Object(B.a)({},e),t.payload);default:return e}},xe=a(22),Ne=a(91),Pe=a(54),Fe=a.n(Pe),Ce=function(e){var t=e.meta,a=e.input,n=Object(Ne.a)(e,["meta","input"]),c=t.touched&&t.error;return r.a.createElement("div",{className:"".concat(Fe.a.formControl," ").concat(c&&Fe.a.error)},r.a.createElement("div",null,r.a.createElement("input",Object.assign({},a,n))),c&&r.a.createElement("span",null,t.error))},Ie=function(){var e=Object(C.c)(),t=Object(C.d)((function(e){return e.auth.isAuth})),a=Object(C.d)((function(e){return e.auth.captchaUrl}));return t?r.a.createElement(S.a,{to:"/profile"}):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Login"),r.a.createElement(L.b,{onSubmit:function(t){var a,n,r,c,o=e((a=t.email,n=t.password,r=t.rememberMe,c=t.captcha,function(){var e=Object(D.a)(A.a.mark((function e(t){var o;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.a.login(a,n,r,c);case 3:if(0!==(o=e.sent).data.resultCode){e.next=9;break}return t(we()),e.abrupt("return",null);case 9:return 10===o.data.resultCode&&t(ye()),e.abrupt("return",Object(G.a)({},K.a,o.data.messages.length>0?o.data.messages[0]:"error"));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}()));if(o)return o},render:function(e){var t=e.handleSubmit,n=e.submitError,c=e.submitting;return r.a.createElement("form",{onSubmit:t},r.a.createElement(L.a,{name:"email",component:Ce,validate:Object(xe.a)(xe.d,Object(xe.b)(20)),placeholder:"email",type:"email"}),r.a.createElement(L.a,{name:"password",component:Ce,validate:Object(xe.a)(xe.d,Object(xe.b)(20),Object(xe.c)(8)),placeholder:"password",type:"password"}),r.a.createElement(L.a,{type:"checkbox",name:"rememberMe",component:"input"})," Remember me",n&&r.a.createElement("div",{style:{color:"red"}},n),a&&r.a.createElement("img",{src:a,alt:"..."}),a&&r.a.createElement(L.a,{name:"captcha",component:Ce,validate:xe.d,placeholder:"Captcha symbols",type:"text"}),r.a.createElement("div",null,r.a.createElement("button",{type:"submit",disabled:c},"Submit")))}}))},Te="INITIALIZED_SUCCESS",Ue={initialized:!1},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Te:return Object(B.a)(Object(B.a)({},e),{},{initialized:!0});default:return e}},De=(a(121),a(122),a(17)),Le=a.n(De),ze=function(){var e=Object(C.c)(),t=Object(C.d)((function(e){return e.auth.isAuth})),a=Object(C.d)((function(e){return e.auth.login})),c=Object(n.useState)(!1),o=Object(E.a)(c,2),u=o[0],l=o[1];return r.a.createElement("div",{className:Le.a.loginInput},t?r.a.createElement("div",{className:Le.a.btn,onMouseOver:function(){return l(!0)},onMouseLeave:function(){return l(!1)}},r.a.createElement("div",{className:u?Le.a.hide:null},a),r.a.createElement("div",{className:u?null:Le.a.hide,onClick:function(){return e(function(){var e=Object(D.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.a.logout();case 3:0===e.sent.data.resultCode&&t(je(null,null,null,!1)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}},"Logout")):r.a.createElement(f.b,{to:"/login"},r.a.createElement("div",{className:Le.a.btn+" "+Le.a.login},"Login")," "))},Me=function(){return r.a.createElement("div",{className:Le.a.header},r.a.createElement("div",{className:Le.a.headerText},"The orbit"),r.a.createElement("div",{className:Le.a.loginNL},r.a.createElement(ze,null)))},Re=Object(n.lazy)((function(){return a.e(3).then(a.bind(null,207))})),We=Object(n.lazy)((function(){return a.e(4).then(a.bind(null,208))})),Je=function(){var e=Object(C.d)((function(e){return e.app.initialized})),t=Object(C.c)();return Object(n.useEffect)((function(){t(function(){var e=Object(D.a)(A.a.mark((function e(t){var a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t(we()),e.next=4,Promise.all([a]);case 4:t({type:Te}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}),[t]),e?r.a.createElement("div",null,r.a.createElement("div",{className:"grid"},r.a.createElement(f.a,null,r.a.createElement(Me,null),r.a.createElement(p,null),r.a.createElement("div",{className:"content"},r.a.createElement(S.b,{exact:!0,path:"/"},r.a.createElement(S.a,{to:"/profile"})),r.a.createElement(S.b,{path:"/profile/:userId?",component:Ee}),r.a.createElement(S.b,{path:"/messages",render:function(){return r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null," Loading... ")},r.a.createElement(We,null))}}),r.a.createElement(S.b,{path:"/users",render:function(){return r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null," Loading... ")},r.a.createElement(Re,null))}}),r.a.createElement(S.b,{path:"/news",component:d}),r.a.createElement(S.b,{path:"/music",component:b}),r.a.createElement(S.b,{path:"/settings",component:v}),r.a.createElement(S.b,{path:"/shuffle",component:y}),r.a.createElement(S.b,{path:"/login",component:Ie}),r.a.createElement(S.b,{path:"*"},r.a.createElement("div",null,"404 Not found"))),r.a.createElement(s,null)))):r.a.createElement(le.a,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var He=a(86),Ve=a(66),Xe={},Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe;return e},Be=a(77),Ke=a(200),Ye=Object(ve.c)({profilePage:ne,messagePage:Ve.b,sidebarPage:Ge,usersPage:Be.a,auth:Se,app:Ae,form:Ke.a}),Qe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ve.d,qe=Object(ve.e)(Ye,Qe(Object(ve.a)(He.a)));window.__store__=qe;var Ze=qe;o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C.a,{store:Ze},r.a.createElement(Je,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},22:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"d",(function(){return c})),a.d(t,"b",(function(){return o}));var n=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(e){return t.reduce((function(t,a){return t||a(e)}),void 0)}},r=function(e){return function(t){return t.length>=e?void 0:"Should be longer than ".concat(e," symbols")}},c=function(e){if(!e)return"Field must by filled"},o=function(e){return function(t){if(t.length>e)return"max length is ".concat(e," symbols")}}},23:function(e,t,a){e.exports={block1:"Shuffle_block1__1oK62",block2:"Shuffle_block2__12wYk",block3:"Shuffle_block3__1wbVM",block4:"Shuffle_block4__3rcjM"}},43:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(85),o=a.n(c);t.a=function(){return r.a.createElement("div",{className:o.a.preloaderWrap},r.a.createElement("h1",null,"Preloader"))}},53:function(e,t,a){e.exports={wrap:"MyPosts_wrap__WP9pz"}},54:function(e,t,a){e.exports={error:"FormControls_error__2zpah",formSumError:"FormControls_formSumError__22XPT"}},56:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(0),r=a.n(n),c=a(5),o=a(4),u=function(e){return{isAuth:e.auth.isAuth}},l=function(e){return Object(c.b)(u)((function(t){return t.isAuth?r.a.createElement(e,t):r.a.createElement(o.a,{to:"/login"})}))}},66:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(25),r=a(3),c="ADD_MESSAGE",o=function(e){return{type:c,body:e}},u={dialogsData:[{id:1,name:"Bogdan"},{id:2,name:"Vera"},{id:3,name:"Nadezhda"},{id:4,name:"Lyubov"}],messagesData:[{m:"First message to Dev"},{m:"Second random message"},{m:"Third crazy message"}]};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:var a={m:t.body},o=Object(r.a)({},e);return o.messagesData=Object(n.a)(e.messagesData),o.messagesData.push(a),o;default:return e}}},7:function(e,t,a){"use strict";a.d(t,"d",(function(){return c})),a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return u})),a.d(t,"c",(function(){return l}));var n=a(84),r=a.n(n).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"578a5f36-0f95-4a91-a1d4-86904b25ee94"}}),c={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return r.get("users?page=".concat(e,"&count=").concat(t))},follow:function(e){return r.post("follow/".concat(e))},unfollow:function(e){return r.delete("follow/".concat(e))}},o={getProfile:function(e){return r.get("profile/".concat(e))},getStatus:function(e){return r.get("profile/status/"+e)},updateStatus:function(e){return r.put("profile/status",{status:e})},savePhoto:function(e){var t=new FormData;return t.append("image",e),r.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},saveProfile:function(e){return r.put("profile",e)}},u={me:function(){return r.get("auth/me")},login:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return r.post("auth/login",{email:e,password:t,rememberMe:a,captcha:n})},logout:function(){return r.delete("auth/login")}},l={getCaptchaUrl:function(){return r.get("security/get-captcha-url")}}},77:function(e,t,a){"use strict";a.d(t,"d",(function(){return _})),a.d(t,"c",(function(){return k})),a.d(t,"e",(function(){return y})),a.d(t,"b",(function(){return S}));var n=a(2),r=a.n(n),c=a(6),o=a(25),u=a(3),l=a(7),s=function(e,t,a,n){return e.map((function(e){return e[a]===t?Object(u.a)(Object(u.a)({},e),n):e}))},i="FOLLOW",m="UNFOLLOW",f="SET_USERS",p="SET_CURRENT_PAGE",d="SET_TOTAL_USERS_COUNT",b="TOGGLE_IS_FETCHING",v="SET_FOLLOWING_PROGRESS",h={users:[],pageSize:9,totalUsersCount:0,currentPage:1,isFetching:!1,isFollowingProgress:[]},E=function(e){return{type:i,userId:e}},g=function(e){return{type:m,userId:e}},_=function(e){return{type:p,currentPage:e}},O=function(e){return{type:b,isFetching:e}},j=function(e,t){return{type:v,isFetching:e,userId:t}},k=function(e,t){return function(){var a=Object(c.a)(r.a.mark((function a(n){var c;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(O(!0)),n(_(e)),a.prev=2,a.next=5,l.d.getUsers(e,t);case 5:c=a.sent,n((o=c.data.items,{type:f,users:o})),n((r=c.data.totalCount,{type:d,totalUsersCount:r})),n(O(!1)),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(2),console.error(a.t0),n(O(!1));case 15:case"end":return a.stop()}var r,o}),a,null,[[2,11]])})));return function(e){return a.apply(this,arguments)}}()},w=function(){var e=Object(c.a)(r.a.mark((function e(t,a,n,c){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(j(!0,t)),e.prev=1,e.next=4,n(t);case 4:0===e.sent.data.resultCode&&a(c(t)),a(j(!1,t)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0),a(j(!1,t));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a,n,r){return e.apply(this,arguments)}}(),y=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:w(e,a,l.d.unfollow.bind(l.d),g);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},S=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:w(e,a,l.d.follow.bind(l.d),E);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:return Object(u.a)(Object(u.a)({},e),{},{users:s(e.users,t.userId,"id",{followed:!0})});case m:return Object(u.a)(Object(u.a)({},e),{},{users:s(e.users,t.userId,"id",{followed:!1})});case f:return Object(u.a)(Object(u.a)({},e),{},{users:t.users});case p:return Object(u.a)(Object(u.a)({},e),{},{currentPage:t.currentPage});case d:return Object(u.a)(Object(u.a)({},e),{},{totalUsersCount:t.totalUsersCount});case b:return Object(u.a)(Object(u.a)({},e),{},{isFetching:t.isFetching});case v:return Object(u.a)(Object(u.a)({},e),{},{isFollowingProgress:t.isFetching?[].concat(Object(o.a)(e.isFollowingProgress),[t.userId]):e.isFollowingProgress.filter((function(e){return e!==t.userId}))});default:return e}}},78:function(e,t,a){e.exports={footer:"Footer_footer__1w0lV"}},8:function(e,t,a){e.exports={profile:"ProfileInfo_profile__2LHtf",wallpaper:"ProfileInfo_wallpaper__1teYi",wrap:"ProfileInfo_wrap__28CmP",contentWrap:"ProfileInfo_contentWrap__2xrQI",imgWrap:"ProfileInfo_imgWrap__2Rzls",inputFile:"ProfileInfo_inputFile__1x-DX",contacts:"ProfileInfo_contacts__3y62P",textError:"ProfileInfo_textError__1yN2m",profileStatus:"ProfileInfo_profileStatus__SCSPz",formWrap:"ProfileInfo_formWrap__2UY7a"}},82:function(e,t,a){},83:function(e,t,a){e.exports={item:"Post_item__ihtu9"}},85:function(e,t,a){e.exports={preloaderWrap:"Preloader_preloaderWrap__2ytu8"}},96:function(e,t,a){},97:function(e,t,a){}},[[198,1,2]]]);
//# sourceMappingURL=main.7f8d7335.chunk.js.map