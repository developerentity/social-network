{"version":3,"sources":["api/api.js","components/Header/Header.module.css","components/Shuffle/Shuffle.module.css","components/Footer/Footer.js","components/Nav/Nav.js","components/News/News.js","components/Music/Music.js","components/Settings/Settings.js","components/Shuffle/Block1.js","components/Shuffle/Block2.js","components/Shuffle/Block3.js","components/Shuffle/Block4.js","components/Shuffle/Shuffle.js","components/Profile/MyPosts/Post/Post.js","components/Profile/MyPosts/MyPosts.js","redux/profileReducer.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/img/wall.jpg","components/Profile/ProfileInfo/ProfileStatus.js","components/Profile/ProfileInfo/ProfileInfo.js","components/Profile/Profile.js","components/Profile/ProfileContainer.js","redux/authReducer.js","components/FormsControls/FormsControls.js","components/Login/LoginForm.js","redux/appReducer.js","components/Login/LoginLogoutBTN.js","components/Header/Header.js","App.js","serviceWorker.js","redux/sidebarReducer.jsx","redux/redux-store.js","index.js","util/validators.js","components/FormsControls/FormControls.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/common/preloader/Preloader.js","components/Profile/MyPosts/MyPosts.module.css","hoc/withAuthRedirect.js","redux/dialogsReducer.jsx","components/Nav/Nav.module.css","util/objectHelper.js","redux/usersReducer.jsx","components/Footer/Footer.module.css","components/Profile/MyPosts/Post/Post.module.css","components/common/preloader/Preloader.module.css"],"names":["instance","Axios","create","baseURL","withCredentials","headers","usersAPI","getUsers","currentPage","pageSize","get","follow","userId","post","unfollow","delete","profileAPI","getProfile","getStatus","updateStatus","status","put","authAPI","me","login","email","password","rememberMe","logout","module","exports","Footer","className","style","footer","Nav","nav","item","exact","to","activeClassName","activeName","News","Music","Settings","Block1","block1","Block2","block2","Block3","block3","Block4","block4","Shuffle","useState","blocks","setBlocks","shuffle","blockNumber","arr","temporary","permColor","shuffledArr","i","length","push","sort","Math","random","pop","onClick","Post","props","src","avatar","alt","text","like","MyPosts","React","memo","postsElements","postsData","map","key","wrap","onSubmit","val","addPostFunc","newPostBody","posts","AddPostForm","render","handleSubmit","component","name","placeholder","type","ADD_POST","SET_USER_PROFILE","SET_USER_STATUS","setUserStatus","statusText","initialState","profile","userStatus","profileReducer","state","action","newPost","body","stateCopy","MyPostsContainer","connect","profilePage","dispatch","actionCreatorAddPost","ProfileStatus","getUpdateStatus","editMode","setEditMode","setStatus","authorizedUserId","useSelector","auth","selectedProfileUserId","useEffect","cursor","onDoubleClick","onBlur","autoFocus","value","onChange","e","target","ProfileInfo","wallpaper","backgroundImage","photos","large","infoWrap","contentWrap","small","fullName","aboutMe","contacts","facebook","instagram","Preloader","Profile","article","ProfileContainer","this","match","params","history","Component","compose","withAuthRedirect","withRouter","isAuth","a","data","console","error","res","resultCode","SET_USER_DATA","SET_AUTH_FORM_ERROR","authFormError","setAuthUserData","getAuth","id","authReducer","Input","meta","input","hasError","touched","formControl","LoginForm","useDispatch","message","messages","validate","composeValidators","required","maxLengthCreator","minLength","formSumError","INITIALIZED_SUCCESS","initialized","appReducer","LoginLogoutBTN","hide","setHide","loginInput","btn","onMouseOver","onMouseLeave","Header","header","headerText","loginNL","UsersContainer","lazy","Messages","App","app","promise","Promise","all","path","fallback","Boolean","window","location","hostname","sidebarReducer","store","reducers","combineReducers","messagePage","dialogsReducer","sidebarPage","usersPage","usersReducer","form","formReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","createStore","applyMiddleware","thunkMiddleware","__store__","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","validators","reduce","validator","undefined","min","maxLength","preloaderWrap","mapStateToPropsWithRedirect","ADD_MESSAGE","addMessage","dialogsData","messagesData","m","newMessage","updateObjInArr","items","itemId","objPropName","newObjProps","el","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","SET_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","isFollowingProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","setFollowingProgress","totalCount","followUnfollowFlow","apiMethod","actionCreator","bind","followed","filter"],"mappings":"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","file":"static/js/main.898c7e28.chunk.js","sourcesContent":["import Axios from \"axios\"\n\nconst instance = Axios.create({\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\n    withCredentials: true,\n    headers: {\n        'API-KEY': '578a5f36-0f95-4a91-a1d4-86904b25ee94'\n    }\n});\n\nexport const usersAPI = {\n    getUsers(currentPage = 1, pageSize = 5) {\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\n    },\n    follow(userId) {\n        return instance.post(`follow/${userId}`)\n    },\n    unfollow(userId) {\n        return instance.delete(`follow/${userId}`)\n    },\n}\nexport const profileAPI = {\n    getProfile(userId) {\n        return instance.get(`profile/${userId}`)\n    },\n    getStatus(userId) {\n        return instance.get(`profile/status/` + userId)\n    },\n    updateStatus(status) {\n        return instance.put(`profile/status`, { status: status })\n    }\n}\nexport const authAPI = {\n    me() {\n        return instance.get(`auth/me`)\n    },\n    login(email, password, rememberMe = false) {\n        return instance.post(`auth/login`, { email, password, rememberMe })\n    },\n    logout() {\n        return instance.delete(`auth/login`)\n    }\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1VCKf\",\"headerText\":\"Header_headerText__15hRh\",\"loginNL\":\"Header_loginNL__28skR\",\"loginInput\":\"Header_loginInput__3sKnk\",\"btn\":\"Header_btn__25p7W\",\"login\":\"Header_login__3V3Qa\",\"hide\":\"Header_hide__1H_PK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block1\":\"Shuffle_block1__1oK62\",\"block2\":\"Shuffle_block2__12wYk\",\"block3\":\"Shuffle_block3__1wbVM\",\"block4\":\"Shuffle_block4__3rcjM\"};","import React from 'react';\nimport style from './Footer.module.css';\n\nconst Footer = () => {\n    return (\n        <footer className={style.footer}>footer</footer>\n    )\n}\n\nexport default Footer;","import React from 'react';\nimport style from './Nav.module.css';\nimport { NavLink } from 'react-router-dom';\n\nconst Nav = () => {\n    return (\n        <nav className={style.nav}>\n            <div className={style.item}>\n                <NavLink exact to='/profile' activeClassName={style.activeName}>\n                    Profile\n                </NavLink>\n            </div>\n            <div className={style.item}>\n                <NavLink exact to='/users' activeClassName={style.activeName}>\n                    Users\n                </NavLink>\n            </div>\n            <div  className={style.item}>\n                <NavLink to='/messages' activeClassName={style.activeName}>\n                    Messages\n                </NavLink>\n            </div>\n            <div  className={style.item}>\n                <NavLink to='/news' activeClassName={style.activeName}>\n                    News\n                </NavLink>\n            </div>\n            <div  className={style.item}>\n                <NavLink to='/music' activeClassName={style.activeName}>\n                    Music\n                </NavLink>\n            </div>\n            <div  className={style.item}>\n                <NavLink to='/settings' activeClassName={style.activeName}>\n                    Settings\n                </NavLink>\n            </div>\n            <div  className={style.item}>\n                <NavLink to='/shuffle' activeClassName={style.activeName}>\n                    Shuffle\n                </NavLink>\n            </div>\n        </nav>\n    )\n}\n\nexport default Nav;","import React from 'react';\n// import style from './Messages.module.css';\n\nconst News = () => {\n    return (\n        <>\n            News page\n        </>\n    )\n}\n\nexport default News;","import React from 'react';\n// import style from './Messages.module.css';\n\nconst Music = () => {\n    return (\n        <>\n            Music page\n        </>\n    )\n}\n\nexport default Music;","import React from 'react';\n// import style from './Messages.module.css';\n\nconst Settings = () => {\n    return (\n        <>\n            Settings page\n        </>\n    )\n}\n\nexport default Settings;","import React from 'react';\nimport style from './Shuffle.module.css';\n\nconst Block1 = () => {\n    return (\n        <div className={style.block1}> First </div>\n    )\n}\n\nexport default Block1;","import React from 'react';\nimport style from './Shuffle.module.css';\n\nconst Block2 = () => {\n    return (\n        <div className={style.block2}> Second </div>\n    )\n}\n\nexport default Block2;","import React from 'react';\nimport style from './Shuffle.module.css';\n\nconst Block3 = () => {\n    return (\n        <div className={style.block3}> Third </div>\n    )\n}\n\nexport default Block3;","import React from 'react';\nimport style from './Shuffle.module.css';\n\nconst Block4 = () => {\n    return (\n        <div className={style.block4}> Fourth </div>\n    )\n}\n\nexport default Block4;","import React, { useState } from 'react';\nimport Block1 from './Block1';\nimport Block2 from './Block2';\nimport Block3 from './Block3';\nimport Block4 from './Block4';\n\nconst Shuffle = () => {\n\n    const [blocks, setBlocks] = useState([\n        <Block1 />,\n        <Block2 />,\n        <Block3 />,\n        <Block4 />\n    ])\n    \n    const shuffle = (blockNumber) => {\n        \n        const arr = [...blocks]\n        const temporary = []\n        const permColor = []\n        const shuffledArr = []\n\n        for (let i = 0; i < arr.length; i++) {\n            if (i === blockNumber) {\n              permColor.push(arr[i])\n            }\n            if (i !== blockNumber) {\n              temporary.push(arr[i])\n            } \n        }\n\n        temporary.sort(() => Math.random() - 0.5)\n\n        for (let i = 0; i < arr.length; i++) {\n            if (i !== blockNumber) {\n              shuffledArr[i] = temporary.pop()\n            } \n            if (i === blockNumber) {\n              shuffledArr[i] = permColor[0]\n            }     \n        }\n\n        return setBlocks(shuffledArr)\n    }\n\n    const revert = () => {\n        return setBlocks([\n            <Block1 />,\n            <Block2 />,\n            <Block3 />,\n            <Block4 />\n        ])\n    }\n\n    return (\n        <>\n            <div onClick={ () => shuffle(0) }>\n                {blocks[0]}\n            </div>\n            <div onClick={ () => shuffle(1) }>\n                {blocks[1]}\n            </div>\n            <div onClick={ () => shuffle(2) }>\n                {blocks[2]}\n            </div>\n            <div onClick={ () => revert() }>\n                {blocks[3]}\n            </div>  \n        </>\n    )\n}\n\nexport default Shuffle;","import React from 'react';\nimport style from './Post.module.css';\n\nconst Post = (props) => {\n    \n    return (\n        <div className={style.item}>\n            <img src={props.avatar} alt=\"...\" />\n            {props.text}\n            <div>\n                <span>\n                    {`Like ${props.like}`} \n                </span> \n            </div>\n        </div>\n    )\n}\n\nexport default Post;","import React from 'react';\nimport { Form, Field } from 'react-final-form'\nimport style from './MyPosts.module.css';\nimport Post from './Post/Post';\n\nconst MyPosts = React.memo(props => {\n\n    let postsElements = props.postsData\n        .map(post => <Post\n            key={post.text}\n            avatar={post.avatar}\n            text={post.text}\n            like={post.like}\n        />)\n\n    let addPost = (val) => {\n        props.addPostFunc(val.newPostBody);\n    }\n\n    return (\n        <div className={style.wrap}>\n            <h4> Feed </h4>\n            <AddPostForm\n                onSubmit={addPost}\n            />\n            <div className={style.posts}>\n                {postsElements}\n            </div>\n        </div>\n    )\n})\n\nconst AddPostForm = (props) => {\n    return (\n        <Form\n            onSubmit={props.onSubmit}\n            render={({ handleSubmit }) => (\n                <form onSubmit={handleSubmit}>\n                    <div className=\"containerTextarea\">\n                        <Field\n                            component='textarea'\n                            name='newPostBody'\n                            placeholder='Please enter text' />\n                    </div>\n                    <button type='submit'>Add news</button>\n                </form>\n            )}\n        />\n    )\n}\n\nexport default MyPosts;","import { profileAPI } from \"../api/api\";\n\nconst ADD_POST = \"ADD_POST\";\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\";\nconst SET_USER_STATUS = \"SET_USER_STATUS\";\n\nexport const actionCreatorAddPost = (body) => {\n    return { type: ADD_POST, body }\n}\nconst setUserProfile = (profile) => {\n    return { type: SET_USER_PROFILE, profile }\n}\nconst setUserStatus = (statusText) => {\n    return { type: SET_USER_STATUS, statusText }\n}\n\nconst initialState = {\n    postsData: [\n        {\n            avatar: `https://coubsecure-s.akamaihd.net/get/b81/p/coub/simple/cw_timeline_pic/691c3a60c6a/d02de237a879bceafbd0e/med_1542127707_image.jpg`,\n            text: `First post text`,\n            like: 13\n        },\n        {\n            avatar: `https://coubsecure-s.akamaihd.net/get/b81/p/coub/simple/cw_timeline_pic/691c3a60c6a/d02de237a879bceafbd0e/med_1542127707_image.jpg`,\n            text: `Second post text`,\n            like: 21\n        },\n        {\n            avatar: `https://coubsecure-s.akamaihd.net/get/b81/p/coub/simple/cw_timeline_pic/691c3a60c6a/d02de237a879bceafbd0e/med_1542127707_image.jpg`,\n            text: `Third post text`,\n            like: 8\n        },\n        {\n            avatar: `https://coubsecure-s.akamaihd.net/get/b81/p/coub/simple/cw_timeline_pic/691c3a60c6a/d02de237a879bceafbd0e/med_1542127707_image.jpg`,\n            text: `Fourth post text`,\n            like: 5\n        },\n        {\n            avatar: `https://coubsecure-s.akamaihd.net/get/b81/p/coub/simple/cw_timeline_pic/691c3a60c6a/d02de237a879bceafbd0e/med_1542127707_image.jpg`,\n            text: `Fifth post text`,\n            like: 21\n        }\n    ],\n    profile: null,\n    userStatus: ''\n};\n\nconst profileReducer = (state = initialState, action) => {\n\n    switch (action.type) {\n        case ADD_POST: {\n            let newPost = {\n                avatar: `https://coubsecure-s.akamaihd.net/get/b81/p/coub/simple/cw_timeline_pic/691c3a60c6a/d02de237a879bceafbd0e/med_1542127707_image.jpg`,\n                text: action.body,\n                like: 0\n            }\n            let stateCopy = { ...state }\n            stateCopy.postsData = [...state.postsData]\n            stateCopy.postsData.push(newPost)\n            return stateCopy\n        }\n\n        case SET_USER_PROFILE: {\n            return { ...state, profile: action.profile }\n        }\n\n        case SET_USER_STATUS: {\n            return { ...state, userStatus: action.statusText }\n        }\n\n        default:\n            return state\n    }\n}\n\nexport const getProfile = (userId) => {\n    return async dispatch => {\n        try {\n            const data = await profileAPI.getProfile(userId)\n            dispatch(setUserProfile(data.data))\n        } catch (err) {\n            console.error(err)\n        }\n    }\n}\nexport const getStatus = (userId) => {\n    return async dispatch => {\n        try {\n            const res = await profileAPI.getStatus(userId)\n            dispatch(setUserStatus(res.data))\n        } catch (err) {\n            console.error(err)\n        }\n    }\n}\nexport const getUpdateStatus = (statusText) => {\n    return async dispatch => {\n        try {\n            const res = await profileAPI.updateStatus(statusText)\n            if (res.data.resultCode === 0) {\n                dispatch(setUserStatus(statusText))\n            }\n        }\n        catch (err) {\n            console.error(err)\n        }\n    }\n}\n\nexport default profileReducer;","import MyPosts from './MyPosts';\nimport {\n    actionCreatorAddPost\n} from './../../../redux/profileReducer';\nimport { connect } from 'react-redux';\n\nconst mapStateToProps = (state) => {\n    return {\n        postsData: state.profilePage.postsData\n    }\n}\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        addPostFunc: (body) => {\n            dispatch(actionCreatorAddPost(body))\n        }\n    }\n}\n\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\n\nexport default MyPostsContainer;","export default __webpack_public_path__ + \"static/media/wall.8f2fd9d3.jpg\";","import React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\n\nconst ProfileStatus = (props) => {\n\n    const { userStatus, getUpdateStatus } = props\n\n    const [editMode, setEditMode] = useState(false)\n    const [status, setStatus] = useState(userStatus)\n\n    const authorizedUserId = useSelector(state => state.auth.userId)\n    const selectedProfileUserId = useSelector(state => state.profilePage.profile.userId)\n\n    const activateEditMode = () => {\n        if (authorizedUserId === selectedProfileUserId) setEditMode(true)\n    }\n    const deactivateEditMode = () => {\n        setEditMode(false)\n        if (userStatus !== status) {\n            getUpdateStatus(status)\n        }\n    }\n    const onStatusChange = (text) => {\n        setStatus(text)\n    }\n\n    useEffect(() => {\n        setStatus(userStatus)\n    }, [userStatus])\n\n\n    return (\n        <>\n            {!editMode &&\n                <div>\n                    <span\n                        style={{ cursor: 'pointer' }}\n                        onDoubleClick={() => activateEditMode()}\n                    >\n                        {userStatus || \"enter status there\"}\n                    </span>\n                </div>}\n            {editMode &&\n                <div>\n                    <input\n                        onBlur={() => { deactivateEditMode() }}\n                        autoFocus={true}\n                        value={status}\n                        onChange={(e) => onStatusChange(e.target.value)}\n                    />\n                </div>}\n        </>\n    )\n\n}\n\nexport default ProfileStatus;","import React from 'react';\nimport style from './ProfileInfo.module.css';\nimport wallpaper from './../../img/wall.jpg'\nimport Preloader from '../../common/preloader/Preloader';\nimport ProfileStatus from './ProfileStatus';\n\nconst ProfileInfo = (props) => {\n\n    const {\n        profile,\n        userStatus,\n        getUpdateStatus\n    } = props;\n\n    if (!profile) {\n        return (\n            <Preloader />\n        )\n    }\n    return (\n        <>\n            <div\n                className={style.wallpaper}\n                style={{\n                    backgroundImage: `url(${profile.photos.large || wallpaper})`\n                }}>\n                <div className={style.infoWrap}>\n                    <div className={style.wrap}>\n                        <div className={style.contentWrap}>\n                            <div>\n                                <img src={profile.photos.small || 'https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/User_font_awesome.svg/1200px-User_font_awesome.svg.png'} alt=\"...\" />\n                            </div>\n                            <div>\n                                <ProfileStatus\n                                    userStatus={userStatus}\n                                    getUpdateStatus={getUpdateStatus}\n                                />\n                            </div>\n\n                            <div>\n                                <h3>{profile.fullName}</h3>\n                                {profile.aboutMe ? <p>About me: {profile.aboutMe}</p> : null}\n                                {profile.contacts.facebook ? <p>Fb: {profile.contacts.facebook}</p> : null}\n                                {profile.contacts.instagram ? <p>Inst: {profile.contacts.instagram}</p> : null}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </>\n    )\n}\n\nexport default ProfileInfo;","import React from 'react';\nimport style from './Profile.module.css';\nimport MyPostsContainer from './MyPosts/MyPostsContainer';\nimport ProfileInfo from './ProfileInfo/ProfileInfo'\n\nconst Profile = (props) => {\n\n    return (\n        <article className={style.article}>\n            <ProfileInfo\n                profile={props.profile}\n                userStatus={props.userStatus}\n                getUpdateStatus={props.getUpdateStatus}\n            />\n            <MyPostsContainer />\n        </article>\n    )\n}\n\nexport default Profile;","import React from 'react';\nimport { connect } from 'react-redux';\nimport Profile from './Profile';\nimport { getProfile, getStatus, getUpdateStatus } from '../../redux/profileReducer'\nimport { withRouter } from 'react-router-dom';\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\nimport { compose } from 'redux';\n\n\nclass ProfileContainer extends React.Component {\n\n    componentDidMount() {\n        let userId = this.props.match.params.userId;\n        if (!userId) {\n            userId = this.props.authorizedUserId\n            if (!userId) {\n                this.props.history.push('/login')\n            }\n        }\n        this.props.getProfile(userId)\n        this.props.getStatus(userId)\n    }\n\n    render() {\n        return (\n            <div>\n                <Profile\n                    {...this.props}\n                    profile={this.props.profile}\n                />\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        profile: state.profilePage.profile,\n        userStatus: state.profilePage.userStatus,\n        isAuth: state.auth.isAuth,\n        authorizedUserId: state.auth.userId\n    }\n}\n\nexport default compose(\n    withAuthRedirect,\n    withRouter,\n    connect(\n        mapStateToProps,\n        {\n            getProfile,\n            getStatus,\n            getUpdateStatus\n        }\n    )\n)(ProfileContainer);","import { authAPI } from \"../api/api\";\n\nconst SET_USER_DATA = \"SET_USER_DATA\";\nconst SET_AUTH_FORM_ERROR = \"SET_AUTH_FORM_ERROR\";\n\nconst initialState = {\n    userId: null,\n    email: null,\n    login: null,\n    isAuth: false,\n    authFormError: null\n};\n\nconst authReducer = (state = initialState, action) => {\n\n    switch (action.type) {\n        case SET_USER_DATA:\n            return {\n                ...state,\n                ...action.data,\n            }\n\n        case SET_AUTH_FORM_ERROR:\n            return {\n                ...state,\n                authFormError: action.error\n            }\n\n        default:\n            return state\n    }\n}\n\nexport const setAuthUserData = (userId, email, login, isAuth) => {\n    return { type: SET_USER_DATA, data: { userId, email, login, isAuth } }\n}\n\nconst setAuthFormError = (error) => {\n    return { type: SET_AUTH_FORM_ERROR, error }\n}\n\nexport const getAuth = () => {\n    return async (dispatch) => {\n        try {\n            const res = await authAPI.me();\n            if (res.data.resultCode === 0) {\n                let { id, email, login } = res.data.data;\n                dispatch(setAuthUserData(id, email, login, true));\n            }\n        } catch (err) {\n            return console.error(err);\n        }\n    }\n}\n\nexport const getLogin = (email, password, rememberMe) => {\n    return async dispatch => {\n        try {\n            const res = await authAPI.login(email, password, rememberMe)\n            if (res.data.resultCode === 0) {\n                dispatch(getAuth())\n            } else {\n                let message = res.data.messages.length > 0 ? res.data.messages[0] : 'error'\n                dispatch(setAuthFormError(message))\n            }\n        } catch (err) {\n            console.error(err)\n        }\n    }\n}\nexport const getLogout = () => {\n    return async dispatch => {\n        try {\n            const res = await authAPI.logout()\n            if (res.data.resultCode === 0) {\n                dispatch(setAuthUserData(null, null, null, false))\n            }\n        } catch (err) {\n            console.error(err)\n        }\n    }\n}\n\nexport default authReducer;","import React from 'react';\nimport style from './FormControls.module.css'\n\nexport const Input = ({ meta, input, ...props }) => {\n\n    const hasError = meta.touched && meta.error\n\n    return (\n        <div className={`${style.formControl} ${hasError && style.error}`}>\n            <div>\n                <input {...input} {...props} />\n            </div>\n            { hasError && <span>{meta.error}</span>}\n        </div>\n    )\n}\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getLogin } from '../../redux/authReducer';\nimport { Form, Field } from 'react-final-form'\nimport { composeValidators, required, maxLengthCreator, minLength } from '../../util/validators';\nimport { Input } from '../FormsControls/FormsControls';\nimport { Redirect } from 'react-router-dom';\nimport style from '../FormsControls/FormControls.module.css';\n\n\nconst LoginForm = () => {\n\n    const dispatch = useDispatch()\n    const isAuth = useSelector(state => state.auth.isAuth)\n    const authFormError = useSelector(state => state.auth.authFormError)\n\n    const onSubmit = (data) => {\n        dispatch(getLogin(data.email, data.password, data.rememberMe))\n    }\n\n    if (isAuth) return <Redirect to='/profile' />\n\n    return (\n        <>\n            <h1>Login</h1>\n            <Form\n                onSubmit={onSubmit}\n                render={({ handleSubmit }) => (\n                    <form onSubmit={handleSubmit}>\n\n                        <Field\n                            name='email'\n                            component={Input}\n                            validate={composeValidators(required, maxLengthCreator(20))}\n                            placeholder='email'\n                            type='email'\n                        />\n\n                        <Field\n                            name='password'\n                            component={Input}\n                            validate={composeValidators(required, maxLengthCreator(20), minLength(8))}\n                            placeholder='password'\n                            type='password'\n                        />\n\n                        <Field\n                            type={'checkbox'}\n                            name={'rememberMe'}\n                            component={'input'}\n                        /> Remember me\n\n                        {authFormError &&\n                            <div className={style.formSumError}>\n                                {authFormError}\n                            </div>}\n                        <div>\n                            <button type=\"submit\">\n                                Submit\n                            </button>\n                        </div>\n                    </form>\n                )}\n            />\n        </>\n    )\n}\n\nexport default LoginForm;","import { getAuth } from \"./authReducer\";\n\nconst INITIALIZED_SUCCESS = \"INITIALIZED_SUCCESS\";\n\nconst initialState = {\n    initialized: false\n}\n\nconst appReducer = (state = initialState, action) => {\n\n    switch (action.type) {\n        case INITIALIZED_SUCCESS:\n            return {\n                ...state,\n                initialized: true\n            }\n\n        default:\n            return state\n    }\n}\n\nconst setInitializedSuccess = () => {\n    return { type: INITIALIZED_SUCCESS }\n}\n\nexport const getInitializeApp = () => {\n    return async dispatch => {\n        try {\n            let promise = dispatch(getAuth())\n            await Promise.all([promise])\n            dispatch(setInitializedSuccess())\n        } catch (err) {\n            console.error(err)\n        }\n    }\n}\n\nexport default appReducer;","import React, { useState } from \"react\"\nimport { useSelector, useDispatch } from \"react-redux\"\nimport { NavLink } from \"react-router-dom\"\nimport { getLogout } from \"../../redux/authReducer\"\nimport style from '../Header/Header.module.css'\n\nconst LoginLogoutBTN = () => {\n\n    const dispatch = useDispatch()\n    const isAuth = useSelector(state => state.auth.isAuth)\n    const login = useSelector(state => state.auth.login)\n    const [hide, setHide] = useState(false)\n\n    return (\n        <div className={style.loginInput}>\n            {isAuth\n                ? <div className={style.btn}\n                    onMouseOver={() => setHide(true)}\n                    onMouseLeave={() => setHide(false)} >\n                    <div className={hide ? style.hide : null}>{login}</div>\n                    <div className={!hide ? style.hide : null} onClick={() => dispatch(getLogout())}>Logout</div>\n                </div>\n                : <NavLink to='/login'><div className={style.btn + ' ' + style.login}>Login</div> </NavLink>}\n        </div>\n    )\n}\n\nexport default LoginLogoutBTN;","import React from 'react';\nimport style from './Header.module.css';\nimport LoginLogoutBTN from '../Login/LoginLogoutBTN';\n\nconst Header = () => {\n\n    return (\n        <div className={style.header}>\n            <div className={style.headerText}>The orbit</div>\n            <div className={style.loginNL}>\n                <LoginLogoutBTN />\n            </div>\n        </div>\n    )\n}\n\nexport default Header;\n","import React, { lazy, useEffect, Suspense } from 'react';\nimport './components/css/App.css';\nimport Footer from './components/Footer/Footer';\nimport Nav from './components/Nav/Nav';\nimport News from './components/News/News';\nimport Music from './components/Music/Music';\nimport Settings from './components/Settings/Settings';\nimport Shuffle from './components/Shuffle/Shuffle';\nimport {\n  BrowserRouter as Router,\n  Route\n} from 'react-router-dom'\nimport ProfileContainer from './components/Profile/ProfileContainer';\nimport LoginForm from './components/Login/LoginForm';\nimport { getInitializeApp } from './redux/appReducer';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Preloader from './components/common/preloader/Preloader';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/dist/js/bootstrap.bundle.min';\nimport Header from './components/Header/Header';\n\nconst UsersContainer = lazy(() => import('./components/Users/UsersContainer'))\nconst Messages = lazy(() => import('./components/Messages/Messages'))\n\nconst App = () => {\n\n  const initialized = useSelector(state => state.app.initialized)\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    dispatch(getInitializeApp())\n  }, [dispatch])\n\n  if (!initialized) {\n    return <Preloader />\n  }\n  return (\n    <div>\n      <div className=\"grid\">\n        <Router>\n          <Header />\n          <Nav />\n          <div className='content'>\n            <Route path='/profile/:userId?' component={ProfileContainer} />\n            <Route\n              path='/messages'\n              render={() => {\n                return <Suspense fallback={<div> Loading... </div>}>\n                  <Messages />\n                </Suspense>\n              }} />\n            <Route\n              path='/users'\n              render={() => {\n                return <Suspense fallback={<div> Loading... </div>}>\n                  <UsersContainer />\n                </Suspense>\n              }} />\n            <Route path='/news' component={News} />\n            <Route path='/music' component={Music} />\n            <Route path='/settings' component={Settings} />\n            <Route path='/shuffle' component={Shuffle} />\n            <Route path='/login' component={LoginForm} />\n          </div>\n          <Footer />\n        </Router>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","const initialState = {}\n\nconst sidebarReducer = (store = initialState, action) => {\n\n    return store;\n}\n\nexport default sidebarReducer;","import { applyMiddleware, combineReducers, compose, createStore } from 'redux';\nimport thunkMiddleware from 'redux-thunk';\nimport profileReducer from './profileReducer';\nimport dialogsReducer from './dialogsReducer';\nimport sidebarReducer from './sidebarReducer';\nimport usersReducer from './usersReducer';\nimport authReducer from './authReducer';\nimport { reducer as formReducer } from 'redux-form';\nimport appReducer from './appReducer';\n\nconst reducers = combineReducers({\n    profilePage: profileReducer,\n    messagePage: dialogsReducer,\n    sidebarPage: sidebarReducer,\n    usersPage: usersReducer,\n    auth: authReducer,\n    app: appReducer,\n    form: formReducer\n})\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)))\n\nwindow.__store__ = store;\n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './components/css/index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport store from './redux/redux-store';\nimport { Provider } from 'react-redux';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","export const composeValidators = (...validators) => value =>\n    validators.reduce((error, validator) => error || validator(value), undefined)\n\n\n// export const required = value => (value ? undefined : 'Field must by filled')\n\nexport const mustBeNumber = value => (isNaN(value) ? 'Must be a number' : undefined)\n\nexport const minValue = min => value =>\n    isNaN(value) || value >= min ? undefined : `Should be greater than ${min}`\n    \nexport const minLength = min => value =>\n    value.length >= min ? undefined : `Should be longer than ${min} symbols`\n    \nexport const required = (value) => {\n    if (value) return undefined\n    return `Field must by filled`\n}\n\nexport const maxLengthCreator = (maxLength) => (value) => {\n    if (value.length > maxLength) return `max length is ${maxLength} symbols`\n    return undefined\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"FormControls_error__2zpah\",\"formSumError\":\"FormControls_formSumError__22XPT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"ProfileInfo_profile__2LHtf\",\"wallpaper\":\"ProfileInfo_wallpaper__1teYi\",\"infoWrap\":\"ProfileInfo_infoWrap__ZpJ3m\",\"wrap\":\"ProfileInfo_wrap__28CmP\",\"contentWrap\":\"ProfileInfo_contentWrap__2xrQI\"};","import React from 'react';\nimport style from './Preloader.module.css';\n// import loading from '../../../assets/images/loading.gif';\n\nconst Preloader = () => {\n    return (\n        <div className={style.preloaderWrap}>\n            {/* <img src={loading} alt='...' /> */}\n            <h1>Preloader</h1>\n        </div>\n    )\n}\n\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"MyPosts_wrap__WP9pz\"};","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\n\nconst mapStateToPropsWithRedirect = (state) => {\n    return {\n        isAuth: state.auth.isAuth\n    }\n}\n\nexport const withAuthRedirect = (Component) => {\n\n    const RedirectComponent = (props) => {\n        if (!props.isAuth) return <Redirect to={'/login'} />\n        return <Component {...props} />\n    }\n    const ConnectedAuthRedirectComponent = connect(mapStateToPropsWithRedirect)(RedirectComponent)\n\n    return ConnectedAuthRedirectComponent;\n}\n\n","const ADD_MESSAGE = \"ADD_MESSAGE\";\n\nexport const addMessage = (body) => {\n    return { type: ADD_MESSAGE, body }\n}\n\nconst initialState = {\n    dialogsData: [\n        { id: 1, name: \"Bogdan\" },\n        { id: 2, name: \"Vera\" },\n        { id: 3, name: \"Nadezhda\" },\n        { id: 4, name: \"Lyubov\" }\n    ],\n    messagesData: [\n        { m: \"First message to Dev\" },\n        { m: \"Second random message\" },\n        { m: \"Third crazy message\" }\n    ]\n};\n\nconst dialogsReducer = (state = initialState, action) => {\n\n    switch (action.type) {\n\n        case ADD_MESSAGE: {\n            let newMessage = {\n                m: action.body\n            }\n            let stateCopy = { ...state }\n            stateCopy.messagesData = [...state.messagesData]\n            stateCopy.messagesData.push(newMessage)\n            return stateCopy\n        }\n\n        default:\n            return state\n    }\n}\n\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__3gICw\",\"item\":\"Nav_item__96rLj\",\"activeName\":\"Nav_activeName__28Ej8\"};","export const updateObjInArr = (items, itemId, objPropName, newObjProps) => {\n    return items.map(el => {\n        if (el[objPropName] === itemId) {\n            return { ...el, ...newObjProps }\n        }\n        return el\n    })\n}","import { usersAPI } from \"../api/api\";\nimport { updateObjInArr } from \"../util/objectHelper\";\n\nconst FOLLOW = \"FOLLOW\";\nconst UNFOLLOW = \"UNFOLLOW\";\nconst SET_USERS = \"SET_USERS\";\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\";\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\";\nconst SET_FOLLOWING_PROGRESS = \"SET_FOLLOWING_PROGRESS\";\n\nconst initialState = {\n    users: [],\n    pageSize: 9,\n    totalUsersCount: 0,\n    currentPage: 1,\n    isFetching: false,\n    isFollowingProgress: []\n};\n\nconst usersReducer = (state = initialState, action) => {\n\n    switch (action.type) {\n        case FOLLOW:\n            return { ...state, users: updateObjInArr(state.users, action.userId, 'id', { followed: true }) }\n\n        case UNFOLLOW:\n            return { ...state, users: updateObjInArr(state.users, action.userId, 'id', { followed: false }) }\n\n        case SET_USERS:\n            return { ...state, users: action.users }\n\n        case SET_CURRENT_PAGE:\n            return { ...state, currentPage: action.currentPage }\n\n        case SET_TOTAL_USERS_COUNT:\n            return { ...state, totalUsersCount: action.totalUsersCount }\n\n        case TOGGLE_IS_FETCHING:\n            return { ...state, isFetching: action.isFetching }\n\n        case SET_FOLLOWING_PROGRESS:\n            return {\n                ...state,\n                isFollowingProgress: action.isFetching\n                    ? [...state.isFollowingProgress, action.userId]\n                    : state.isFollowingProgress.filter(id => id !== action.userId)\n            }\n\n        default:\n            return state\n    }\n}\n\nexport const followSuccess = (userId) => {\n    return { type: FOLLOW, userId }\n}\nexport const unfollowSuccess = (userId) => {\n    return { type: UNFOLLOW, userId }\n}\nexport const setUsers = (users) => {\n    return { type: SET_USERS, users }\n}\nexport const setCurrentPage = (currentPage) => {\n    return { type: SET_CURRENT_PAGE, currentPage }\n}\nexport const setTotalUsersCount = (totalUsersCount) => {\n    return { type: SET_TOTAL_USERS_COUNT, totalUsersCount }\n}\nexport const toggleIsFetching = (isFetching) => {\n    return { type: TOGGLE_IS_FETCHING, isFetching }\n}\nexport const setFollowingProgress = (isFetching, userId) => {\n    return { type: SET_FOLLOWING_PROGRESS, isFetching, userId }\n}\n\nexport const getUsers = (currentPage, pageSize) => {\n    return async dispatch => {\n        dispatch(toggleIsFetching(true))\n        dispatch(setCurrentPage(currentPage))\n        try {\n            const data = await usersAPI.getUsers(currentPage, pageSize)\n            dispatch(setUsers(data.data.items))\n            dispatch(setTotalUsersCount(data.data.totalCount))\n            dispatch(toggleIsFetching(false))\n        } catch (err) {\n            console.error(err)\n            dispatch(toggleIsFetching(false))\n        }\n    }\n}\n\nconst followUnfollowFlow = async (userId, dispatch, apiMethod, actionCreator) => {\n    dispatch(setFollowingProgress(true, userId))\n    try {\n        const res = await apiMethod(userId)\n        if (res.data.resultCode === 0) {\n            dispatch(actionCreator(userId))\n        }\n        dispatch(setFollowingProgress(false, userId))\n    } catch (err) {\n        console.error(err)\n        dispatch(setFollowingProgress(false, userId))\n    }\n}\n\nexport const unfollow = userId => {\n    return async dispatch => {\n        followUnfollowFlow(userId, dispatch, usersAPI.unfollow.bind(usersAPI), unfollowSuccess)\n    }\n}\nexport const follow = userId => {\n    return async dispatch => {\n        followUnfollowFlow(userId, dispatch, usersAPI.follow.bind(usersAPI), followSuccess)\n    }\n}\n\nexport default usersReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__1w0lV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__ihtu9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloaderWrap\":\"Preloader_preloaderWrap__2ytu8\"};"],"sourceRoot":""}